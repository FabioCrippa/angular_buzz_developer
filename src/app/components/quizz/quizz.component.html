<!--
  Container principal do quiz. Utiliza uma classe para facilitar a estilizaÃ§Ã£o e garantir responsividade.
-->
<div class="container__quizz">
    <div class="logo__quizz">
        <!-- Imagem do logo do projeto -->
        <img src="assets/img/logo.png" alt="logo" srcset="">
        <!-- TÃ­tulo principal -->
        <h1>DESENVOLVEDOR WEB</h1>
        <!-- Controles de Ã¡udio para mÃºsica de fundo -->
        <div class="audio-controls">
            <!-- BotÃ£o para tocar mÃºsica de fundo -->
            <button (click)="playMusic()">Tocar MÃºsica</button>
            <!-- BotÃ£o para pausar mÃºsica de fundo -->
            <button (click)="pauseMusic()">Pausar MÃºsica</button>
        </div>
        <!-- TÃ­tulo dinÃ¢mico do quiz (pode ser o nome da categoria) -->
        <h3>{{ title }}</h3>
    </div>

    <!--
      SeÃ§Ã£o para player de Ã¡udio do YouTube (caso usado).
      O id 'youtube-player' pode ser manipulado via JS/TS.
    -->
    <div class="youtube-audio">
        <div id="youtube-player"></div>
    </div>

    <!--
      Exibe o quiz enquanto nÃ£o estiver finalizado.
      Usa *ngIf para condicionalmente mostrar esta parte.
    -->
    <div *ngIf="!finished">
        <!--
          Exibe a pergunta atual.
          - Flexbox para alinhar pergunta e botÃ£o de ouvir.
          - O botÃ£o de ouvir usa a Web Speech API para acessibilidade.
        -->
        <div style="display: flex; align-items: center; justify-content: center; gap: 8px; width: 100%; margin-bottom: 24px;">
            <h2 style="margin: 0;">{{ questionSelected?.question }}</h2>
            <!-- BotÃ£o para ler a pergunta em voz alta -->
            <button 
                (click)="readQuestion(questionSelected?.question!)" 
                style="padding: 4px 8px; font-size: 1rem; height: 32px; min-width: 32px; border-radius: 50%;"
                title="Ouvir Pergunta"
                aria-label="Ouvir Pergunta"
            >ðŸ”Š</button>
        </div>

        <!--
          Lista as opÃ§Ãµes de resposta.
          - Usa *ngFor para iterar sobre as opÃ§Ãµes.
          - ngClass aplica estilos para respostas corretas/incorretas.
          - O botÃ£o Ã© desabilitado apÃ³s resposta.
        -->
        <div *ngFor="let option of questionSelected?.options">
            <!-- BotÃ£o de opÃ§Ã£o, com classes dinÃ¢micas para mostrar resposta correta/incorreta -->
            <button 
                [ngClass]="{
                    'correct': showCorrect && option.alias === questionSelected?.correct,
                    'incorrect': showCorrect && option.alias !== questionSelected?.correct && option.alias === selectedAnswer
                }"
                (click)="playerChoose(option.alias)"
                [disabled]="showCorrect"
                [attr.aria-label]="'Escolher resposta ' + option.name"
            >
                {{ option.name }}
            </button>
        </div>

        <!--
          BotÃ£o para avanÃ§ar para a prÃ³xima pergunta.
          SÃ³ aparece apÃ³s mostrar a resposta correta.
        -->
        <button *ngIf="showCorrect" (click)="nextStep()">AvanÃ§ar</button>

        <!--
          BotÃ£o para finalizar o quiz a qualquer momento.
        -->
        <button class="finalize-btn" (click)="finishQuiz()">Finalizar</button>
    </div>

    <!--
      Exibe o resultado final quando o quiz termina.
      Mostra pontuaÃ§Ã£o, acertos e erros.
    -->
    <div *ngIf="finished">
        <h2>Quiz Finalizado!</h2>
        <p>Sua pontuaÃ§Ã£o: {{ score }}%</p>
        <p>Respostas corretas: {{ correctAnswers }}</p>
        <p>Respostas erradas: {{ wrongAnswers }}</p>
    </div>
</div>

